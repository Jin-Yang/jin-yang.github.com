<!DOCTYPE html>
<html>
<head>
  <meta http-equiv="Content-type" content="text/html;charset=UTF-8">
  <meta name="baidu-site-verification" content="B786jeR0MV" />
  <meta name="msvalidate.01" content="29F791E7F785800340E37AD7C714D2A7" />
  <meta name="google-site-verification" content="p7jJ5d3kF9yxRhpIo5GgHXAZ1ATKVyZhV2kf6mEGOv0" />
  <title>C 语言发布流程|JinYang's Blog</title>
  <meta name="keywords" content="linux,c,cpp,c++,program">
  <meta name="description" content="整理下 C 语言中调试、发布的流程。">

  <script src="https://cdn.bootcss.com/jquery/1.11.1/jquery.min.js"></script>
  <script type="text/javascript">
  !window.jQuery && document.write('<script src="/static/js/jquery.min.js"><\/script>');
  </script>
  <script src="https://cdn.bootcss.com/bootstrap/3.3.0/js/bootstrap.min.js"></script>
  <script type="text/javascript">
  !$('body').popover && document.write('<script src="/static/js/bootstrap.min.js"><\/script>');
  </script>
  <script type="text/javascript" src="/static/js/main.js"></script>
  <!-- <link rel="stylesheet prefetch" href="http://cdn.bootcss.com/bootstrap/3.3.0/css/bootstrap.min.css"> -->
  <link type="text/css" rel="stylesheet prefetch" href="/static/css/bootstrap.min.css">
  <!-- <link href="http://cdn.bootcss.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet"> -->
  <link type="text/css" rel="stylesheet prefetch" href="/static/css/font-awesome.min.css">
  <link type="text/css" rel="stylesheet prefetch" href="/static/css/pygments.css">
  <link type="text/css" rel="stylesheet prefetch" href="/static/css/screen.css">
  <style type="text/css">
  
    .post-container > p {text-indent: 2em;}
  
  </style>
  
  <!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-124556620-1"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-124556620-1');
</script>

</head>

<body>
<nav class="navbar navbar-default navbar-inverse navbar-fixed-top navbar-wrapper">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
        <span class="sr-only">Toggle navigation</span><span class="icon-bar"></span><span class="icon-bar"></span><span class="icon-bar"></span>
      </button><a class="navbar-brand" href="/">Jin-Yang</a>
    </div>
    <div id="navbar" class="collapse navbar-collapse">
      <ul class="nav navbar-nav">
        <li  ><a href="/"> Home </a></li>
        <li  ><a href="/archives.html"> Archive </a></li>
        <li  ><a href="/categories.html"> Categories </a></li>
        <li  ><a href="/projects.html"> Projects </a></li>
        <li class="dropdown">
          <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false"> Others <span class="caret"></span></a>
          <ul class="dropdown-menu">
            <li class="dropdown-header">常用网站</li>
            <li role="separator" class="divider"></li>
            <li><a href="https://www.rtems.org/">www.rtems.org</a></li>
            <li><a href="http://www.gnu.org/">www.gnu.org</a></li>
            <li><a href="https://www.kernel.org/">www.kernel.org</a></li>
            <li><a href="https://www.arduino.cc/">www.arduino.cc</a></li>
          </ul>
        </li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li  ><a href="/about.html"> About </a></li>
      </ul>
    </div><!--/.nav-collapse -->
  </div>
</nav>

<div id="myCarousel" class="carousel slide" data-ride="carousel">
  <!-- Indicators -->
  <ol class="carousel-indicators">
    <li data-target="#myCarousel" data-slide-to="0" class="active"></li>
    <li data-target="#myCarousel" data-slide-to="1"></li>
    <li data-target="#myCarousel" data-slide-to="2"></li>
    <li data-target="#myCarousel" data-slide-to="3"></li>
    <li data-target="#myCarousel" data-slide-to="4"></li>
  </ol>
  <div class="carousel-inner" role="listbox">
    <div class="item active">
      <img src="data:image/gif;base64,R0lGODlhAQABAIAAAGZmZgAAACH5BAAAAAAALAAAAAABAAEAAAICRAEAOw==" alt="Second slide">
      <div class="container">
        <div class="carousel-caption">
          <h1>KISS</h1>
          <h2>Keep It Simple and Stupid.</h2>
          <!--<a class="btn btn-lg btn-primary" href="#" role="button">Sign up today</a>-->
        </div>
      </div>
    </div>
    <div class="item">
      <img src="data:image/gif;base64,R0lGODlhAQABAIAAAGZmZgAAACH5BAAAAAAALAAAAAABAAEAAAICRAEAOw==" alt="Second slide">
      <div class="container">
        <div class="carousel-caption">
          <h1>Seize The Day</h1><h1>And Get Busy Living</h1>
        </div>
      </div>
    </div>
    <div class="item">
      <img src="data:image/gif;base64,R0lGODlhAQABAIAAAGZmZgAAACH5BAAAAAAALAAAAAABAAEAAAICRAEAOw==" alt="Second slide">
      <div class="container">
        <div class="carousel-caption">
          <h1>Stay hungry</h1><h1>Stay foolish</h1>
        </div>
      </div>
    </div>
    <div class="item">
      <img src="data:image/gif;base64,R0lGODlhAQABAIAAAGZmZgAAACH5BAAAAAAALAAAAAABAAEAAAICRAEAOw==" alt="Second slide">
      <div class="container">
        <div class="carousel-caption">
	  <h2>Ever tried, ever failed</h2><h2>No matter, try again</h2><h2>Fail again, fail better</h2>
        </div>
      </div>
    </div>
    <div class="item">
      <img src="data:image/gif;base64,R0lGODlhAQABAIAAAGZmZgAAACH5BAAAAAAALAAAAAABAAEAAAICRAEAOw==" alt="Second slide">
      <div class="container">
        <div class="carousel-caption">
          <h1>Nothing is true</h1><h1>Every is permitted</h1>
        </div>
      </div>
    </div>
  </div>
  <a class="left carousel-control" href="#myCarousel" role="button" data-slide="prev">
    <span class="glyphicon glyphicon-chevron-left"></span>
    <span class="sr-only">Previous</span>
  </a>
  <a class="right carousel-control" href="#myCarousel" role="button" data-slide="next">
    <span class="glyphicon glyphicon-chevron-right"></span>
    <span class="sr-only">Next</span>
  </a>
</div><!-- /.carousel -->

<div class="container">
  <div class="row">
    <div class="col-lg-9 blog-main" style="min-width: 500px">
    
<div class="post-container">
  <div class="blog-header">
    <h1>C 语言发布流程</h1>
    <div class="post-description">
      <i class="fa fa-calendar"></i> 2018-06-16 Saturday &nbsp; &nbsp;
      <i class="fa fa-tags"></i>  linux ,  program  
      
    </div>
  </div>
  <hr>
  <p>整理下 C 语言中调试、发布的流程。</p>

<!-- more -->

<h2 id="编码规范">编码规范</h2>

<p>这里直接使用的是 Linux 的编码规范，中文可以查看 <a href="https://www.kernel.org/doc/html/v4.15/translations/zh_CN/coding-style.html">Linux 内核代码风格</a> 。</p>

<figure class="highlight"><pre><code class="language-text" data-lang="text">$ scripts/checkpatch.pl --no-tree -f log.c</code></pre></figure>

<p>如果是通过命令行执行，则可以执行如下命令检查提交代码是否符和规范。</p>

<figure class="highlight"><pre><code class="language-text" data-lang="text">$ git diff agent/*.[ch] | contrib/checkpatch.pl --no-tree --no-signoff -</code></pre></figure>

<p>另外，也可以添加到 git 的 <code>pre-commit</code> 脚本中。</p>

<figure class="highlight"><pre><code class="language-text" data-lang="text">$ cat &gt;.git/hooks/pre-commit
#!/bin/bash
exec git diff --cached agent/*.[ch] | contrib/checkpatch.pl --no-tree --no-signoff -
^D
$ chmod 755 .git/hooks/pre-commit</code></pre></figure>

<p>注意，<code>pre-commit</code> 不能添加到版本仓库中。</p>

<!---
谈谈Linux内核驱动的coding style
http://www.cnblogs.com/wwang/archive/2011/02/24/1960283.html
-->

<h3 id="faq">FAQ</h3>

<figure class="highlight"><pre><code class="language-text" data-lang="text">ERROR: need consistent spacing around &#39;*&#39; (ctx:WxV)
#88: FILE: include/linux/pmem.h:167:
+static inline void flush_cache_pmem(void __pmem *addr, size_t size)</code></pre></figure>

<p>实际上是无法识别 <code>__pmem</code> 引起的，此时需要在脚本的 <code>our $Sparse</code> 中添加 <code>__pmem</code> 。</p>

<h4 id="不检查">不检查</h4>

<p>如果不需要检查一行记录，可以通过添加宏覆盖掉，例如使用 <code>__SUPP(x)</code> 宏，并在 <code>foreach my ...</code> 中增加如下语句。</p>

<figure class="highlight"><pre><code class="language-text" data-lang="text">if ($line=~/__SUPER/) {
	next;
}</code></pre></figure>

<!--
## Linux 代码正式发布以及问题排查

## 0. 开发测试

## 1. RPM包安装

## 2. DebugInfo

http://www.unknownroad.com/rtfm/gdbtut/gdbstack.html
https://sourceware.org/gdb/onlinedocs/gdb/Backtrace.html
https://darkdust.net/files/GDB%20Cheat%20Sheet.pdf
http://www.brendangregg.com/blog/2016-08-09/gdb-example-ncurses.html
-->

<h2 id="正式发布">正式发布</h2>

<p>Backtrace 会有如下的问题：</p>

<ul>
  <li>没有行信息，无法确认是那个函数的那一行出了问题；</li>
  <li>没有入参以及本地变量；</li>
  <li>打印参数名仅供参考，因为static和inline的会被删除，除非添加了 <code>-rdynamic</code> 参数；</li>
</ul>

<p>前两者实际上没有太好的办法处理，而第 3 点实际上可以通过一些手段进行定位。首先，需要了解栈是如何生成的。</p>

<p>CPU 中的有指针保存栈顶的寄存器，而每个栈帧同时包含了其调用的栈帧以及函数返回的地址，然后再通过当前的指针地址，就开确定当前执行的是那个函数。</p>

<p>同样，这里面会有几个问题：</p>

<ol>
  <li>如果调用顺序为 <code>foo()-&gt;bar()</code> ，当 <code>bar()</code> 返回类型为 <code>void</code> ，那么可能直接忽略 <code>bar()</code> 跳转到 <code>foo()</code> 。</li>
  <li>在打印栈时，会在内存中查找最近的符号表，对于 <code>static</code> 或者 <code>inline</code> 类型的函数会被忽略。</li>
</ol>

<p>通过上述内容的介绍基本上可以确认函数的执行顺序。</p>

<h3 id="打印栈">打印栈</h3>

<p>最简答的是使用 GCC 的宏定义在日志中打印。</p>

<figure class="highlight"><pre><code class="language-c" data-lang="c"><span class="cp">#define TRACE_MSG fprintf(stderr, __FUNCTION__ &quot;() [%s:%d] here I am\n&quot;, __FILE__, __LINE__)</span></code></pre></figure>

<p>也可以通过 <code>backtrace()</code> 获取调用栈，然后使用 <code>backtrace_symbols()</code> 解析其地址，或者会返回相对最近函数的偏移以及返回地址。</p>

<p>另外，也可以通过 <code>backtrace_symbols_fd()</code> 将栈的信息直接打印到文件中。</p>

<h4 id="触发位置">触发位置</h4>

<p>一般来说，需要在一些常见的异常信号中打印问题栈，例如 <code>SIGSEGV</code> <code>SIGBUS</code> <code>SIGILL</code> <code>SIGFPE</code> 等信号处理中。那么在使用之前需要先了解在内核中，是如何处理信号的。</p>

<ol>
  <li>当内核需要向进程发送信号时，先分配一些所需要的信息添加到 <code>struct task</code> 结构体中，然后将 <code>signal-pending</code> 置位。</li>
  <li>在进程被调度到之前，内核会修改栈的结构，用来调用信号处理函数。</li>
  <li>在用户态中，一般先进入的是 libc 的函数，然后才是用户定义的函数。</li>
</ol>

<p>所以，在上述的调用栈中，实际上大致内容如下，真正的回调函数在 <code>sigaction()</code> 之前。</p>

<figure class="highlight"><pre><code class="language-text" data-lang="text">your_sig_handler()
sigaction() in libc.so
your_foobar()</code></pre></figure>

<!--
https://www.linuxjournal.com/article/6391
sigcontext
-->

<p>假设有如下的报错：</p>

<figure class="highlight"><pre><code class="language-text" data-lang="text"> [0]: ./a.out() [0x400772]
 [1]: /lib64/libc.so.6(+0x35250) [0x7fc8014f7250]
 [2]: ./a.out() [0x400824]
 [3]: ./a.out() [0x40083a]
 [4]: ./a.out() [0x400859]
 [5]: /lib64/libc.so.6(__libc_start_main+0xf5) [0x7fc8014e3b35]
 [6]: ./a.out() [0x400689]</code></pre></figure>

<p>可以通过 <code>x</code> 命令查看其调用地址的反汇编代码。</p>

<figure class="highlight"><pre><code class="language-text" data-lang="text">(gdb) x/20i 0x6f42a-30</code></pre></figure>

<h3 id="backtrace">BackTrace</h3>

<p>在代码中，如果发生异常，直接 coredump 会导致文件过大，此时可以通过 <code>backtrace</code> 在代码中打印日志信息。</p>

<figure class="highlight"><pre><code class="language-c" data-lang="c"><span class="cp">#include &lt;stdio.h&gt;</span>
<span class="cp">#include &lt;signal.h&gt;</span>
<span class="cp">#include &lt;errno.h&gt;</span>
<span class="cp">#include &lt;string.h&gt;</span>
<span class="cp">#include &lt;stdlib.h&gt;</span>
<span class="cp">#include &lt;execinfo.h&gt;</span>

<span class="kt">void</span> <span class="nf">log_backtrace</span><span class="p">(</span><span class="kt">int</span> <span class="n">signal</span><span class="p">)</span>
<span class="p">{</span>
        <span class="p">(</span><span class="kt">void</span><span class="p">)</span> <span class="n">signal</span><span class="p">;</span>
        <span class="kt">int</span> <span class="n">i</span><span class="p">,</span> <span class="n">frames</span><span class="p">;</span>
        <span class="kt">void</span> <span class="o">*</span><span class="n">callstack</span><span class="p">[</span><span class="mi">128</span><span class="p">];</span>
        <span class="kt">char</span> <span class="o">**</span><span class="n">strs</span><span class="p">;</span>

        <span class="n">frames</span> <span class="o">=</span> <span class="n">backtrace</span><span class="p">(</span><span class="n">callstack</span><span class="p">,</span> <span class="mi">128</span><span class="p">);</span>
        <span class="n">strs</span> <span class="o">=</span> <span class="n">backtrace_symbols</span><span class="p">(</span><span class="n">callstack</span><span class="p">,</span> <span class="n">frames</span><span class="p">);</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">strs</span> <span class="o">==</span> <span class="nb">NULL</span><span class="p">)</span> <span class="p">{</span>
                <span class="n">printf</span><span class="p">(</span><span class="s">&quot;ERROR: backtrace_symbols failed, %s&quot;</span><span class="p">,</span> <span class="n">strerror</span><span class="p">(</span><span class="n">errno</span><span class="p">));</span>
                <span class="n">exit</span><span class="p">(</span><span class="mi">1</span><span class="p">);</span>
        <span class="p">}</span>

        <span class="k">for</span> <span class="p">(</span><span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">frames</span><span class="p">;</span> <span class="o">++</span><span class="n">i</span><span class="p">)</span>
                <span class="n">printf</span><span class="p">(</span><span class="s">&quot; [%d]: %s</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span> <span class="n">i</span><span class="p">,</span> <span class="n">strs</span><span class="p">[</span><span class="n">i</span><span class="p">]);</span>
        <span class="n">free</span><span class="p">(</span><span class="n">strs</span><span class="p">);</span>
        <span class="n">exit</span><span class="p">(</span><span class="mi">1</span><span class="p">);</span>
<span class="p">}</span>

<span class="kt">int</span> <span class="nf">bar</span><span class="p">(</span><span class="kt">void</span><span class="p">)</span>
<span class="p">{</span>
        <span class="kt">int</span> <span class="o">*</span><span class="n">addr</span> <span class="o">=</span> <span class="nb">NULL</span><span class="p">;</span>

        <span class="o">*</span><span class="n">addr</span> <span class="o">=</span> <span class="mi">3</span><span class="p">;</span>
        <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>

<span class="kt">int</span> <span class="nf">foo</span><span class="p">(</span><span class="kt">void</span><span class="p">)</span>
<span class="p">{</span>
        <span class="n">bar</span><span class="p">();</span>
        <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>


<span class="kt">int</span> <span class="nf">main</span><span class="p">(</span><span class="kt">void</span><span class="p">)</span>
<span class="p">{</span>
        <span class="n">signal</span><span class="p">(</span><span class="n">SIGSEGV</span><span class="p">,</span> <span class="n">log_backtrace</span><span class="p">);</span>
        <span class="n">foo</span><span class="p">();</span>
        <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span></code></pre></figure>

<!--
https://www.linuxjournal.com/article/6391
https://www.mawenbao.com/research/glibc-backtrace-parsing.html
http://silencewt.github.io/2015/05/11/Segmentation-Fault%E9%94%99%E8%AF%AF%E5%8E%9F%E5%9B%A0%E6%80%BB%E7%BB%93/
-->

<h3 id="符号表">符号表</h3>

<p>直接通过 <code>gcc -o test main.c</code> 进行编译时，打印的信息不含具体是那个函数，都是 16 进制的地址，此时可以通过反汇编获取，不过比较麻烦。</p>

<p>可以通过 <code>objdump -d test &gt; test.s</code> 命令直接反汇编。</p>

<p>此时可以在编译时添加 <code>-rdynamic</code> 参数，其作用是：</p>

<figure class="highlight"><pre><code class="language-text" data-lang="text">-rdynamic
    Pass the flag -export-dynamic to the ELF linker, on targets that support it. This
instructs the linker to add all symbols, not only used ones, to the dynamic symbol
table. This option is needed for some uses of &quot;dlopen&quot; or to allow obtaining backtraces
from within a program.</code></pre></figure>

<p>另外，对于 C++ 其符号名是通过 mangle 之后的，为了获取具体的函数信息，需要 demangle 处理，例如：</p>

<figure class="highlight"><pre><code class="language-text" data-lang="text">c++filt  &quot;_Z16print_stacktracev&quot;</code></pre></figure>

<p>当然，此时是无法查看函数是具体的哪一行的，可以利用 <code>addr2line</code> 查看，此时在编译时需要添加 <code>-g</code> 选项，例如：</p>

<figure class="highlight"><pre><code class="language-text" data-lang="text">addr2line -Cifp -a 0x400a29 -e test</code></pre></figure>

<p><code>-f</code> 用来打印函数名，<code>-C</code> 同时 demangle 处理，<code>-i</code> 同时处理 inline 函数。</p>

<!--
1. 不包含任何的行信息，无法确定具体那个函数出问题。
2. 无法确定函数的入参以及本地的变量值；
3. 无法确定打印的栈函数是否为静态。

They contain no line number information, so you don’t know where in
a function something happened
You cannot see the values of arguments and local variables
You cannot trust the function names given in the backtrace, since
the debugger doesn’t know about static functions.


disas 0x41dde0,0x41ef00
disas 0x41e500,0x41efff


对程序进行汇编级调试。


----- (run)重新开始运行
(gdb) r
----- (break)针对地址设置断点
(gdb) b *0x0804ce2b

单步步过
(gdb) ni    (next instruction)
单步步入
(gdb) si    ( step instruction )
继续执行
( gdb )c

执行到返回
(gdb) finish










## Linux 代码正式发布以及问题排查

## 0. 开发测试
## 1. RPM包安装

## 2. DebugInfo

https://www.mawenbao.com/research/glibc-backtrace-parsing.html

使用库函数backtrace和backtrace_symbols定位段错误
http://blog.sina.com.cn/s/blog_590be5290102w5yw.html
https://blog.csdn.net/ieearth/article/details/49763481
https://blog.csdn.net/astrotycoon/article/details/8142588
http://silencewt.github.io/2015/05/11/Segmentation-Fault%E9%94%99%E8%AF%AF%E5%8E%9F%E5%9B%A0%E6%80%BB%E7%BB%93/

while true ; do  echo -e "HTTP/1.1 200 OK\n\n $(date)" | nc -l -p 1500  ; done




关于AK/SK介绍
https://bbs.huaweicloud.com/blogs/079b918999c111e7b8317ca23e93a891

https://github.com/jobbole/awesome-c-cn
-->

<h2 id="其它">其它</h2>

<h3 id="lib-库版本问题">LIB 库版本问题</h3>

<p>通常是因为当前系统的依赖库版本太低，而软件编译时使用了较高版本库引起的，常见的有 <code>glibc</code> <code>pthread</code> 等，一般报错如下。</p>

<figure class="highlight"><pre><code class="language-text" data-lang="text">/lib64/libc.so.6: version `GLIBC_2.14&#39; not found</code></pre></figure>

<p>可以通过如下步骤进行排查。</p>

<figure class="highlight"><pre><code class="language-text" data-lang="text">----- 1. 当前系统支持版本
$ strings /lib64/libc.so.6 | grep GLIBC_
----- 2. 使用二进制文件依赖的版本
$ strings /your/binary/exec | grep GLIBC_</code></pre></figure>

<p>注意，如果在 <code>strip</code> 之前保存了符号表，实际上可以通过  <code>nm BINARY</code> 查看依赖库的版本号，不过 <code>strip</code> 之后则会丢失。</p>

<h2 id="参考">参考</h2>

<p>符号表的详细信息可以查看 <a href="https://jin-yang.github.io/post/program-c-elf-symbol-section.html">ELF 符号表</a> 中的介绍。</p>

<p>关于 DebugInfo 的详细介绍可以查看 <a href="https://jin-yang.github.io/post/mysql-core-file.html">MySQL Core 文件</a> 中的介绍。</p>


  <hr>
  <nav>
    <ul class="pager">
         <li class="previous"><a href="/post/program-c-language-gcc-some-stuff.html" title="GCC 常用技巧">&larr; Older</a></li> 
         <li class="next"><a href="/post/language-c-socket-close-method.html" title="Socket 关闭方式">Newer &rarr;</a></li> 
    </ul>
  </nav><br>
<!--
  <hr><div id="section-donate"><span>赏</span></div><br>
  <p style="text-indent:0px;text-align:center;">如果喜欢这里的文章，而且又不差钱的话，欢迎打赏个早餐 ^_^</p><br>
  <div class="row" style="text-align:center;" >
    <div class="col-md-6"><img src="/images/system/barcode-pay-alipay.jpg" style="width:150px;height:150px;" title="支付宝捐赠" /><br>支付宝打赏</div>
    <div class="col-md-6"><img src="/images/system/barcode-pay-wechat.jpg" style="width:150px;height:150px;" title="微信捐赠" /><br>微信打赏</div>
  </div><br><hr>
-->
  <p style="text-indent:0px;text-align:center;">如果喜欢这里的文章，而且又不差钱的话，欢迎打赏个早餐 ^_^</p>
  <div id="donate_module">
    <style type="text/css">
      .donate_bar a.btn_donate{
        display: inline-block;
        position:      relative;
        text-align:    center;
        width: 82px;
        height: 82px;
        background: url("/images/misc/btn_reward.gif") no-repeat;
        _background: url("/images/misc/btn_reward.gif") no-repeat;
        -webkit-transition: background 0s;
        -moz-transition: background 0s;
        -o-transition: background 0s;
        -ms-transition: background 0s;
        transition: background 0s;
      }
      .donate_bar a.btn_donate:hover{ background-position: 0px -82px;}
      .donate_bar .donate_txt {
        display: block;
        color: #9d9d9d;
        font: 14px/2 "Microsoft Yahei";
      }
    </style>
    <div id="donate_board" class="donate_bar row" style="text-align:center;" >
      <a id="btn_donate" class="btn_donate" target="_self" href="javascript:;" title="Donate 打赏"></a>
    </div>
    <div id="donate_guide" class="donate_bar center hidden">
      <div class="row" style="text-align:center;" >
        <div class="col-md-6"><img src="/images/system/barcode-pay-alipay.jpg" style="width:150px;height:150px;" title="支付宝捐赠" /><br>支付宝打赏</div>
        <div class="col-md-6"><img src="/images/system/barcode-pay-wechat.jpg" style="width:150px;height:150px;" title="微信捐赠" /><br>微信打赏</div>
      </div>
    </div>
    <script type="text/javascript">
      document.getElementById('btn_donate').onclick = function(){
        $('#donate_board').addClass('hidden');
        $('#donate_guide').removeClass('hidden');
      }
      function donate_on_web(){
        $('#donate').submit();
      }
    </script>
  </div>

  <hr>

  <div id="gitmentContainer"></div>
  <link rel="stylesheet" href="https://imsun.github.io/gitment/style/default.css">
  <script src="https://imsun.github.io/gitment/dist/gitment.browser.js"></script>
  <script>
  var gitment = new Gitment({
      id: '1529078400',
      owner: 'Jin-Yang',
      repo: 'jin-yang.github.com',
      oauth: {
          client_id: '6d89d48ce689192bf95d',
          client_secret: 'c9a720aafb8e3084e3feb46cadee80b03cdc792f',
      },
  });
  gitment.render('gitmentContainer');
  </script>

  <!-- 多说评论框 start -->
  <!--<div class="ds-thread" data-thread-key="请将此处替换成文章在你的站点中的ID" data-title="请替换成文章的标题" data-url="请替换成文章的网址"></div>-->
  <!--
  <div class="ds-thread" data-thread-key="/post/program-c-debug-release-etc.html" data-title="C 语言发布流程" data-url="/post/program-c-debug-release-etc.html"></div>
  -->
  <!-- 多说评论框 end -->
  <!-- 多说公共JS代码 start (一个网页只需插入一次) -->
  <!--
  <script type="text/javascript">
      var duoshuoQuery = {short_name:"jinyangposts"};
      (function() {
          var ds = document.createElement('script');
          ds.type = 'text/javascript';ds.async = true;
          ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
          ds.charset = 'UTF-8';
          (document.getElementsByTagName('head')[0]
           || document.getElementsByTagName('body')[0]).appendChild(ds);
      })();
  </script>
  -->
  <!-- 多说公共JS代码 end -->
</div>

    </div>
    <div class="col-lg-3 visible-lg blog-sidebar">
    <center><a href="/"><img src="/images/system/linux-liberty.png" width="200" /></a></center>
<h2>About This Blog</h2>
<div class="sidebar-module">
<p style="text-indent:0em;margin:0px;padding:0px;">This is a personal weblog ^_^ generated with Jekyll, if you like it or have some questions,
just feel free to contact me :)</p>
</div><!-- end of "node" "about" -->



<h2>Recent Posts</h2>
<div class="list-group">
  
    <a class="list-group-item" href="/post/linux-program-cpu-cache-introduce_init.html">CPU Cache</a>
  
    <a class="list-group-item" href="/post/artificial-intelligence-decision-tree-introduce.html">决策树</a>
  
    <a class="list-group-item" href="/post/linux-ebpf-bcc-tools-introduce.html">BCC 工具使用</a>
  
    <a class="list-group-item" href="/post/linux-ebpf-basic-usage-introduce.html">eBPF 简介</a>
  
    <a class="list-group-item" href="/post/math-monte-carlo-sample-introduce.html">采样算法</a>
  
</div>

<h2>Categories</h2>
<ul class="list-group" style="margin:0px;">
  
  
    <li style="margin-left:0em" class="list-group-item"><a href="/categories.html#bash"> bash</a>
    <span class="badge">2</span>
  </li>
  
    <li style="margin-left:0em" class="list-group-item"><a href="/categories.html#database"> database</a>
    <span class="badge">86</span>
  </li>
  
    <li style="margin-left:0em" class="list-group-item"><a href="/categories.html#golang"> golang</a>
    <span class="badge">28</span>
  </li>
  
    <li style="margin-left:0em" class="list-group-item"><a href="/categories.html#linux"> linux</a>
    <span class="badge">301</span>
  </li>
  
    <li style="margin-left:0em" class="list-group-item"><a href="/categories.html#misc"> misc</a>
    <span class="badge">244</span>
  </li>
  
    <li style="margin-left:0em" class="list-group-item"><a href="/categories.html#mysql"> mysql</a>
    <span class="badge">79</span>
  </li>
  
    <li style="margin-left:0em" class="list-group-item"><a href="/categories.html#network"> network</a>
    <span class="badge">49</span>
  </li>
  
    <li style="margin-left:0em" class="list-group-item"><a href="/categories.html#postgresql"> postgresql</a>
    <span class="badge">4</span>
  </li>
  
    <li style="margin-left:0em" class="list-group-item"><a href="/categories.html#program"> program</a>
    <span class="badge">138</span>
  </li>
  
    <li style="margin-left:0em" class="list-group-item"><a href="/categories.html#python"> python</a>
    <span class="badge">25</span>
  </li>
  
    <li style="margin-left:0em" class="list-group-item"><a href="/categories.html#react"> react</a>
    <span class="badge">1</span>
  </li>
  
    <li style="margin-left:0em" class="list-group-item"><a href="/categories.html#rtems"> rtems</a>
    <span class="badge">1</span>
  </li>
  
    <li style="margin-left:0em" class="list-group-item"><a href="/categories.html#sql"> sql</a>
    <span class="badge">10</span>
  </li>
  
    <li style="margin-left:0em" class="list-group-item"><a href="/categories.html#tools"> tools</a>
    <span class="badge">1</span>
  </li>
  
    <li style="margin-left:0em" class="list-group-item"><a href="/categories.html#webserver"> webserver</a>
    <span class="badge">25</span>
  </li>
  
</ul><!-- end of "node" "categories" -->

<h2>Related Links</h2>
<ul class="list-group" style="margin:0px">
  <li style="margin-left:0em" class="list-group-item">
    <div class="row">
      <div class="col-xs-4">
       <a href="http://www.rtems.org" title="To RTEMS"><img class="img-thumbnail img-responsive" src="/images/system/rtems.png"  alt="RTEMS"/></a>
      </div>
      <div class="col-xs-8 center-block" style="padding:0px;">
        <strong>RTEMS</strong><br>
        <div class="sidebar-description">Real-Time Executive for Multiprocessor System</div>
      </div>
    </div>
  </li>
  <li style="margin-left:0em" class="list-group-item">
    <div class="row">
      <div class="col-xs-4">
       <a href="http://www.gnu.org" title="To GNU">
       <img class="img-thumbnail img-responsive" src="/images/system/gnu.jpg" alt="GNU" /></a>
      </div>
      <div class="col-xs-8 center-block" style="padding:0px;">
        <strong>GNU</strong><br>
        <div class="sidebar-description">A Unix-linux Operating System</div>
      </div>
    </div>
  </li>
  <li style="margin-left:0em" class="list-group-item">
    <div class="row">
      <div class="col-xs-4">
    <a href="http://www.kernel.org" title="To Linux Kernel">
    <img class="img-thumbnail img-responsive" src="/images/system/linux.png"  alt="LINUX" /></a>
      </div>
      <div class="col-xs-8 center-block" style="padding:0px;">
        <strong>Linux Kernel</strong><br>
        <div class="sidebar-description">Maintained by Linux Kernel Organization</div>
      </div>
    </div>
  </li>
  <li style="margin-left:0em" class="list-group-item">
    <div class="row">
      <div class="col-xs-4">
    <a href="http://arduino.cc" title="To Arduino">
    <img class="img-thumbnail img-responsive" src="/images/system/arduino.png"  alt="ARDUINO" /></a>
      </div>
      <div class="col-xs-8 center-block" style="padding:0px;">
        <strong>Arduino</strong><br>
        <div class="sidebar-description">Open-source Electronic Prototyping Platform</div>
      </div>
    </div>
  </li>
</ul>

<h2>Search</h2>
<div class="sidebar-module">
  <form class="search" method="GET" action="https://www.google.com.hk/search">
    <input type="text" name="q" class="search-query" placeholder=" Search on Google">
    <input type="hidden" name="ie" value="utf-8">
    <input type="submit" name="sa" value="Search" />
  </form><br>
  <input type="text" class="search-field" placeholder=" Search This Site">
  <div class="search-results"></div>
</div>



    </div>
  </div>
<hr><p class="text-center">This Site was built by Jin Yang, generated with Jekyll, and hosted on GitHub Pages<br/> &copy;2013-2019 &ndash; Jin Yang</p><div class="footer-logo"></div>

</div>
</body>
</html>
