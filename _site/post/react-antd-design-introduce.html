<!DOCTYPE html>
<html>
<head>
  <meta http-equiv="Content-type" content="text/html;charset=UTF-8">
  <meta name="baidu-site-verification" content="B786jeR0MV" />
  <meta name="msvalidate.01" content="29F791E7F785800340E37AD7C714D2A7" />
  <meta name="google-site-verification" content="p7jJ5d3kF9yxRhpIo5GgHXAZ1ATKVyZhV2kf6mEGOv0" />
  <title>Ant Design Pro 使用|JinYang's Blog</title>
  <meta name="keywords" content="ant design,dva,javascript,react">
  <meta name="description" content="">

  <script src="https://cdn.bootcss.com/jquery/1.11.1/jquery.min.js"></script>
  <script type="text/javascript">
  !window.jQuery && document.write('<script src="/static/js/jquery.min.js"><\/script>');
  </script>
  <script src="https://cdn.bootcss.com/bootstrap/3.3.0/js/bootstrap.min.js"></script>
  <script type="text/javascript">
  !$('body').popover && document.write('<script src="/static/js/bootstrap.min.js"><\/script>');
  </script>
  <script type="text/javascript" src="/static/js/main.js"></script>
  <!-- <link rel="stylesheet prefetch" href="http://cdn.bootcss.com/bootstrap/3.3.0/css/bootstrap.min.css"> -->
  <link type="text/css" rel="stylesheet prefetch" href="/static/css/bootstrap.min.css">
  <!-- <link href="http://cdn.bootcss.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet"> -->
  <link type="text/css" rel="stylesheet prefetch" href="/static/css/font-awesome.min.css">
  <link type="text/css" rel="stylesheet prefetch" href="/static/css/pygments.css">
  <link type="text/css" rel="stylesheet prefetch" href="/static/css/screen.css">
  <style type="text/css">
  
    .post-container > p {text-indent: 2em;}
  
  </style>
  
  <!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-124556620-1"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-124556620-1');
</script>

</head>

<body>
<nav class="navbar navbar-default navbar-inverse navbar-fixed-top navbar-wrapper">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
        <span class="sr-only">Toggle navigation</span><span class="icon-bar"></span><span class="icon-bar"></span><span class="icon-bar"></span>
      </button><a class="navbar-brand" href="/">Jin-Yang</a>
    </div>
    <div id="navbar" class="collapse navbar-collapse">
      <ul class="nav navbar-nav">
        <li  ><a href="/"> Home </a></li>
        <li  ><a href="/archives.html"> Archive </a></li>
        <li  ><a href="/categories.html"> Categories </a></li>
        <li  ><a href="/projects.html"> Projects </a></li>
        <li class="dropdown">
          <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false"> Others <span class="caret"></span></a>
          <ul class="dropdown-menu">
            <li class="dropdown-header">常用网站</li>
            <li role="separator" class="divider"></li>
            <li><a href="https://www.rtems.org/">www.rtems.org</a></li>
            <li><a href="http://www.gnu.org/">www.gnu.org</a></li>
            <li><a href="https://www.kernel.org/">www.kernel.org</a></li>
            <li><a href="https://www.arduino.cc/">www.arduino.cc</a></li>
          </ul>
        </li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li  ><a href="/about.html"> About </a></li>
      </ul>
    </div><!--/.nav-collapse -->
  </div>
</nav>

<div id="myCarousel" class="carousel slide" data-ride="carousel">
  <!-- Indicators -->
  <ol class="carousel-indicators">
    <li data-target="#myCarousel" data-slide-to="0" class="active"></li>
    <li data-target="#myCarousel" data-slide-to="1"></li>
    <li data-target="#myCarousel" data-slide-to="2"></li>
    <li data-target="#myCarousel" data-slide-to="3"></li>
    <li data-target="#myCarousel" data-slide-to="4"></li>
  </ol>
  <div class="carousel-inner" role="listbox">
    <div class="item active">
      <img src="data:image/gif;base64,R0lGODlhAQABAIAAAGZmZgAAACH5BAAAAAAALAAAAAABAAEAAAICRAEAOw==" alt="Second slide">
      <div class="container">
        <div class="carousel-caption">
          <h1>KISS</h1>
          <h2>Keep It Simple and Stupid.</h2>
          <!--<a class="btn btn-lg btn-primary" href="#" role="button">Sign up today</a>-->
        </div>
      </div>
    </div>
    <div class="item">
      <img src="data:image/gif;base64,R0lGODlhAQABAIAAAGZmZgAAACH5BAAAAAAALAAAAAABAAEAAAICRAEAOw==" alt="Second slide">
      <div class="container">
        <div class="carousel-caption">
          <h1>Seize The Day</h1><h1>And Get Busy Living</h1>
        </div>
      </div>
    </div>
    <div class="item">
      <img src="data:image/gif;base64,R0lGODlhAQABAIAAAGZmZgAAACH5BAAAAAAALAAAAAABAAEAAAICRAEAOw==" alt="Second slide">
      <div class="container">
        <div class="carousel-caption">
          <h1>Stay hungry</h1><h1>Stay foolish</h1>
        </div>
      </div>
    </div>
    <div class="item">
      <img src="data:image/gif;base64,R0lGODlhAQABAIAAAGZmZgAAACH5BAAAAAAALAAAAAABAAEAAAICRAEAOw==" alt="Second slide">
      <div class="container">
        <div class="carousel-caption">
	  <h2>Ever tried, ever failed</h2><h2>No matter, try again</h2><h2>Fail again, fail better</h2>
        </div>
      </div>
    </div>
    <div class="item">
      <img src="data:image/gif;base64,R0lGODlhAQABAIAAAGZmZgAAACH5BAAAAAAALAAAAAABAAEAAAICRAEAOw==" alt="Second slide">
      <div class="container">
        <div class="carousel-caption">
          <h1>Nothing is true</h1><h1>Every is permitted</h1>
        </div>
      </div>
    </div>
  </div>
  <a class="left carousel-control" href="#myCarousel" role="button" data-slide="prev">
    <span class="glyphicon glyphicon-chevron-left"></span>
    <span class="sr-only">Previous</span>
  </a>
  <a class="right carousel-control" href="#myCarousel" role="button" data-slide="next">
    <span class="glyphicon glyphicon-chevron-right"></span>
    <span class="sr-only">Next</span>
  </a>
</div><!-- /.carousel -->

<div class="container">
  <div class="row">
    <div class="col-lg-9 blog-main" style="min-width: 500px">
    
<div class="post-container">
  <div class="blog-header">
    <h1>Ant Design Pro 使用</h1>
    <div class="post-description">
      <i class="fa fa-calendar"></i> 2018-02-25 Sunday &nbsp; &nbsp;
      <i class="fa fa-tags"></i>  program ,  react  
      
    </div>
  </div>
  <hr>
  <p>dva 是基于现有应用架构 (redux + react-router + redux-saga 等) 的一层轻量封装，没有引入任何新概念，全部代码不到 100 行。</p>

<!-- more -->

<h2 id="简介">简介</h2>

<p>相关的 Block 可以从 <a href="https://github.com/ant-design/pro-blocks">Github Pro-Blocks</a> 上下载。</p>

<!--
ls pro-blocks-master/ | grep / | xargs -I {} umi block add /pro-blocks-master/{}

$ umi block add https://github.com/umijs/umi-blocks/tree/master/blank
$ umi block add blank # a shortcut

https://umijs.org/guide/block.html
-->

<h2 id="dva">DVA</h2>

<p>每个路由下都有一个 model，这个 model 掌管这个路由的所有状态 (action、state、reducer、sagas)，组件想改变状态 dispatch type 名字就行了。</p>

<p><img src="/images/javascripts/react/dva-arch.png" alt="dva arch" title="dva arch" class="pull-center" width="80%" /></p>

<h3 id="effect">Effect</h3>

<p>Side Effect 副作用，之所以叫副作用是因为它使得函数变得不纯，同样的输入不一定获得同样的输出，通常是异步操作。底层引入 redux-sagas 做异步流程控制，采用 generator 将异步转成同步写法，从而将 effects 转为纯函数。</p>

<p>sages 采用 Generator 函数来实现，其中 Generator 函数的作用是可以暂停执行，再次执行的时候从上次暂停的地方继续执行，可以通过使用 effects API 如 fork，call，take，put，cancel 等来创建 Effect。</p>

<!---
### 代码解析
https://www.jianshu.com/p/fb75353d805a
https://blog.csdn.net/zp1996323/article/details/73315096/
-->

<h3 id="示例">示例</h3>

<h4 id="安装启动-dva-cli">安装启动 DVA-CLI</h4>

<figure class="highlight"><pre><code class="language-text" data-lang="text">----- 需要确保版本大于0.7.0
$ npm install dva-cli -g
$ dva -v
0.7.6

----- 创建新应用
$ dva new dva-quickstart

----- 启动程序
$ cd dva-quickstart
$ npm start</code></pre></figure>

<p>其它的相关示例也可以参考 <a href="https://github.com/dvajs/dva-docs/blob/master/v1/en-us/getting-started.md">DVA Getting Started</a> 。</p>

<p>此时会生成一个默认的路由 <code>src/touter.js</code>，以及起始页面 <code>src/routes/IndexPage.js</code> 。</p>

<h4 id="使用-antd-框架">使用 antd 框架</h4>

<figure class="highlight"><pre><code class="language-text" data-lang="text">$ npm install antd babel-plugin-import --save</code></pre></figure>

<p>编辑 dva 的配置文件 <code>.roadhogrc</code>，使 <code>babel-plugin-import</code> (按需加载) 插件生效。</p>

<!--
"extraBabelPlugins": [
     "transform-runtime",
     ["import", { "libraryName": "antd", "style": "css" }]
],
-->

<h4 id="定义路由">定义路由</h4>

<p>新建 <code>src/routes/Product.js</code> 内容如下。</p>

<figure class="highlight"><pre><code class="language-text" data-lang="text">import React from &#39;react&#39;;

const Products = (props) =&gt; (
	&lt;h2&gt;List of Products&lt;/h2&gt;
);

export default Products;</code></pre></figure>

<p>添加路由信息到路由表，编辑 <code>src/router.js</code> 。</p>

<figure class="highlight"><pre><code class="language-text" data-lang="text">import products from &#39;./routes/products&#39;;

&lt;Route path=&quot;/products&quot; component={products} /&gt;</code></pre></figure>

<p>然后在浏览器里打开 <a href="http://localhost:8000/#/products">http://localhost:8000/#/products</a>，应该能看到前面定义的 <code>&lt;h2&gt;</code> 标签。</p>

<h4 id="新增组件">新增组件</h4>

<p>对于一些公用的模块可以直接提取出来作为组件。</p>

<figure class="highlight"><pre><code class="language-text" data-lang="text">import React from &#39;react&#39;;
import PropTypes from &#39;prop-types&#39;;
import { Table, Popconfirm, Button } from &#39;antd&#39;;

const ProductList = ({ onDelete, products }) =&gt; {
  const columns = [{
    title: &#39;Name&#39;,
    dataIndex: &#39;name&#39;,
  }, {
    title: &#39;Actions&#39;,
    render: (text, record) =&gt; {
      return (
        &lt;Popconfirm title=&quot;Delete?&quot; onConfirm={() =&gt; onDelete(record.id)}&gt;
          &lt;Button&gt;Delete&lt;/Button&gt;
        &lt;/Popconfirm&gt;
      );
    },
  }];
  return (
    &lt;Table
      dataSource={products}
      columns={columns}
    /&gt;
  );
};

ProductList.propTypes = {
  onDelete: PropTypes.func.isRequired,
  products: PropTypes.array.isRequired,
};

export default ProductList;</code></pre></figure>

<p>其中 <code>propTypes</code> 用于校验变量的类型。</p>

<h4 id="定义-model">定义 Model</h4>

<p>完成 UI 后开始处理数据和逻辑，dva 通过 model 的概念把一个领域的模型管理起来，包含同步更新 state 的 reducers，处理异步逻辑的 effects，订阅数据源的 subscriptions 。</p>

<p>新建 <code>src/models/products.js</code>。</p>

<figure class="highlight"><pre><code class="language-text" data-lang="text">export default {
  namespace: &#39;products&#39;,
  state: [],
  reducers: {
    &#39;delete&#39;(state, { payload: id }) {
      return state.filter(item =&gt; item.id !== id);
    },
  },
};</code></pre></figure>

<!--
其中，

namespace 表示在全局 state 上的 key
state 是初始值，在这里是空数组
reducers 等同于 redux 里的 reducer，接收 action，同步更新 state

然后别忘记在 index.js 里载入他：

// 3. Model
+ app.model(require('./models/products').default);

#### connect

编辑 routes/products.js，替换为以下内容：

import React from 'react';
import { connect } from 'dva';
import List from '../components/list';

const Products = ({ dispatch, products }) => {
  function handleDelete(id) {
    dispatch({
      type: 'products/delete',
      payload: id,
    });
  }
  return (
    <div>
      <h2>List of Products</h2>
      <List onDelete={handleDelete} products={products} />
    </div>
  );
};

// export default Products;
export default connect(({ products }) => ({
  products,
}))(Products);

我们还需要一些初始数据让这个应用 run 起来。编辑 index.js：

-->

<h2 id="简介-1">简介</h2>

<p>直接从 <a href="https://github.com/ant-design/ant-design-pro">Github Ant-Design-Pro</a> 下载，并运行。</p>

<figure class="highlight"><pre><code class="language-text" data-lang="text">$ git clone https://github.com/ant-design/ant-design-pro.git --depth=1
$ cd ant-design-pro
$ npm install
$ npm start         # 访问 http://localhost:8000</code></pre></figure>

<p>详细的文档可以查看 <a href="https://pro.ant.design/docs/getting-started-cn">Ant Design Getting Started</a> 。</p>

<h3 id="关于-session">关于 Session</h3>

<p>实际上对于 Single Page web Application，SPA 应用来说，最好不要使用 Session ，因为前后分离的客户端是拿不到 Session 的，一般是通过 Token 来实现。</p>

<p>例如，登陆时不要把用户信息写到 session 里，而是把会话信息加密成一个 token 然后返给客户端，客户端持有这个 token ，并在每次的请求接口中带上这个 token ，服务端解析并获取 token 信息。</p>

<!--
客户端持有这个 token ,然后在请求每个接口的时候客户端都要带上这个 token, 然后服务端解析 token, 获取到会话信息.
客户端通过有没有这个 token 来判断用户的登录状态.
客户端可以将 token 存到内存,cookie,或前端数据库
当会话信息超时,或者失效时,请求任何服务端接口都返回 HTTP Status Code 401 , 客户端接收到响应以后主动丢弃 token 或者主动刷新 token
当用户注销时,客户端主动丢弃 token

当然这个 token 有一个比较好的开源实现 JWT

不要用传统的 J2EE 的 B/S 思维去思考问题, 多从 C/S 的角度思考
-->

<h4 id="目录结构">目录结构</h4>

<p>安装完成后的空间结构如下：</p>

<figure class="highlight"><pre><code class="language-text" data-lang="text">├── mock                     # 本地模拟数据
├── public
│   └── favicon.ico          # Favicon
├── src                      # 业务功能代码都保存在该目录下
│   ├── assets               # 本地静态资源
│   ├── common               # 应用公用配置，如导航信息
│   ├── components           # &gt;&gt;&gt;业务通用组件，每个页面由一些组件组成，在routes文件夹中的文件引入
│   ├── e2e                  # 集成测试用例
│   ├── layouts              # 通用布局
│   ├── models               # dva model，用于组件的数据存储，接收请求返回的数据等
│   ├── routes               # &gt;&gt;&gt;业务页面入口和常用模板，定义页面的基本结构和内容
│   │   ├── Dashboard        # 业务页面
│   │   └── Exception        # 异常页面
│   ├── services             # &gt;&gt;&gt;后台接口服务，用于与后台交互、发送请求等
│   ├── utils                # 工具库
│   ├── g2.js                # 可视化图形配置
│   ├── theme.js             # 主题配置
│   ├── index.ejs            # HTML 入口模板
│   ├── index.js             # 应用入口
│   ├── index.less           # 全局样式
│   └── router.js            # 路由入口
├── tests                    # 测试工具
├── README.md
└── package.json</code></pre></figure>

<h4 id="构建发布">构建发布</h4>

<p>在开发完成之后直接通过 <code>npm run build</code> 命令构建即可，完成后会生成一个 <code>dist</code> 目录，其底层使用的是 <a href="https://github.com/sorrycc/roadhog">roadhog</a> 工具。</p>

<h3 id="和服务端进行交互">和服务端进行交互</h3>

<!--
Ant Design Pro 是一套基于 React 技术栈的单页面应用，我们提供的是前端代码和本地模拟数据的开发模式， 通过 Restful API 的形式和任何技术栈的服务端应用一起工作。下面将简单介绍和服务端交互的基本写法。
-->

<p>一个完整的前端 UI 交互到服务端处理流程如下：</p>

<ol>
  <li>UI 组件交互操作；</li>
  <li>调用 model 的 effect；</li>
  <li>调用统一管理的 service 请求函数；</li>
  <li>使用封装的 request.js 发送请求；</li>
  <li>获取服务端返回；</li>
  <li>然后调用 reducer 改变 state；</li>
  <li>更新 model。</li>
</ol>

<p>从上面的流程可以看出，为了方便管理维护，统一的请求处理都放在 services 文件夹中，并且一般按照 model 维度进行拆分文件，如：</p>

<figure class="highlight"><pre><code class="language-text" data-lang="text">services/
	user.js
	api.js
	...</code></pre></figure>

<p>其中，<code>utils/request.js</code> 是基于 dva fetch 的封装，统一处理 POST、GET 等请求参数，请求头，以及错误提示信息等。</p>

<p>例如在 services 中的一个请求用户信息的例子：</p>

<figure class="highlight"><pre><code class="language-text" data-lang="text">// services/user.js
import request from &#39;../utils/request&#39;;

export async function query() {
  return request(&#39;/api/users&#39;);
}

export async function queryCurrent() {
  return request(&#39;/api/currentUser&#39;);
}

// models/user.js
import { queryCurrent } from &#39;../services/user&#39;;
...
effects: {
  *fetch({ payload }, { call, put }) {
    ...
    const response = yield call(queryUsers);
    ...
  },
}</code></pre></figure>

<h3 id="effect-处理异步请求">Effect 处理异步请求</h3>

<p>在处理复杂的异步请求的时候，很容易让逻辑混乱，陷入嵌套陷阱，所以 Ant Design Pro 的底层基础框架 dva 使用 effect 的方式来管理同步化异步请求。</p>

<!--

effects: {
  *fetch({ payload }, { call, put }) {
    yield put({
      type: 'changeLoading',
      payload: true,
    });
    // 异步请求 1
    const response = yield call(queryFakeList, payload);
    yield put({
      type: 'save',
      payload: response,
    });
    // 异步请求 2
    const response2 = yield call(queryFakeList2, payload);
    yield put({
      type: 'save2',
      payload: response2,
    });
    yield put({
      type: 'changeLoading',
      payload: false,
    });
  },
},

通过 generator 和 yield 使得异步调用的逻辑处理跟同步一样，更多可参看 dva async logic。
从 mock 直接切换到服务端请求#

通常来讲只要 mock 的接口和真实的服务端接口保持一致，那么只需要重定向 mock 到对应的服务端接口即可。

// .roadhogrc.mock.js
export default {
  'GET /api/(.*)': 'https://your.server.com/api/',
};

这样你浏览器里这样的接口 http://localhost:8001/api/applications 会被反向代理到 https://your.server.com/api/applications 下。
关闭 mock#

关闭 mock 的方法我们推荐采用环境变量，你可以在 package.json 中设置：

"script" : {
  "start": "roadhog server",
  "start:no-proxy": "cross-env NO_PROXY=true roadhog server"
}

然后在 .roadhogrc.mock.js 中做个判断即可：

const noProxy = process.env.NO_PROXY === 'true';
...
export default noProxy ? {} : delay(proxy, 1000);
-->

<h3 id="mock">Mock</h3>

<p>用于模拟接口返回的数据，项目的根目录下有个 <code>.roadhogrc.mock.js</code> 的文件，详细可以查看官方的 <a href="https://github.com/sorrycc/roadhog#mock">说明介绍</a> 。</p>

<p>示例中的很多数据都是通过 Mock 模拟的。</p>

<!--
export default {
  // 支持值为 Object 和 Array
  'GET /api/users': { users: [1,2] },

  // GET POST 可省略
  '/api/users/1': { id: 1 },

  // 支持自定义函数，API 参考 express@4
  'POST /api/users/create': (req, res) => { res.end('OK'); },

  // Forward 到另一个服务器
  'GET /assets/*': 'https://assets.online/',

  // Forward 到另一个服务器，并指定子路径
  // 请求 /someDir/0.0.50/index.css 会被代理到 https://g.alicdn.com/tb-page/taobao-home, 实际返回 https://g.alicdn.com/tb-page/taobao-home/0.0.50/index.css
  'GET /someDir/(.*)': 'https://g.alicdn.com/tb-page/taobao-home',
};
-->

<p>dva 是整个项目的发动机，可参考 <a href="https://github.com/dvajs/dva">Github DVA</a> 以及 <a href="https://github.com/dvajs/dva-knowledgemap">dva.js 知识导图</a> 。</p>

<h2 id="文件结构">文件结构</h2>

<h3 id="初始化dva">初始化DVA</h3>

<p>起始文件为 <code>src/index.js</code> ，初始化部分比较简单，首先一个个来说明一下。</p>

<figure class="highlight"><pre><code class="language-text" data-lang="text">import &#39;@babel/polyfill&#39;;
import &#39;url-polyfill&#39;;
import dva from &#39;dva&#39;;

import createHistory from &#39;history/createHashHistory&#39;;
// user BrowserHistory
// import createHistory from &#39;history/createBrowserHistory&#39;;
import createLoading from &#39;dva-loading&#39;;
import &#39;moment/locale/zh-cn&#39;;
import &#39;./rollbar&#39;;

import &#39;./index.less&#39;;
// 1. Initialize
const app = dva({
  history: createHistory(),
});

// 2. Plugins
app.use(createLoading());

// 3. Register global model
app.model(require(&#39;./models/global&#39;).default);

// 4. Router
app.router(require(&#39;./router&#39;).default);

// 5. Start
app.start(&#39;#root&#39;);

export default app._store; // eslint-disable-line</code></pre></figure>

<h3 id="发送数据请求">发送数据请求</h3>

<p>在发送请求数据时，实际上时通过如下函数。</p>

<figure class="highlight"><pre><code class="language-text" data-lang="text">dispatch( {type: &#39;app/login&#39;, payload: value })</code></pre></figure>

<p>dispatch 会根据设置的 type 内容，转发到指定的 model ，也就是说，需要确保 model 的设置正确才可以。</p>

<p>其中，<code>namespace: 'app'</code> 以及对应的 <code>effects</code>，也就是 login 。</p>

<h3 id="model-部分">Model 部分</h3>

<p>一般分为了三部分：A) reducers 处理数据；B) effects 接收数据；C) subscriptions 监听数据。</p>

<h4 id="reducers">Reducers</h4>

<p>以 Key/Value 格式定义，用于处理同步操作，唯一可以修改 state 的地方，由 action 触发。</p>

<p>格式为 <code>(state, action) =&gt; newState</code> 或者<code>[(state, action) =&gt; newState, enhancer]</code> 。</p>

<h4 id="effects">Effects</h4>

<p>以 Key/Value 格式定义，用于处理异步操作和业务逻辑，不直接修改 state ，由 action 触发，可以触发 action ，可以和服务器交互，可以获取全局 state 的数据等等。</p>

<p>格式为 <code>*(action, effects) =&gt; void</code> 或者 <code>[*(action, effects) =&gt; void, { type }]</code> ，其中 <code>type</code> 有 <code>takeEvery</code>、<code>takeLatest</code>、<code>throttle</code>、<code>watcher</code> 。</p>

<p>该函数内部使用的大概有如下几个：</p>

<ul>
  <li>put  用来发起一条action</li>
  <li>call 以异步的方式调用函数</li>
  <li>select 从state中获取相关的数据</li>
  <li>take 获取发送的数据</li>
</ul>

<p>以及封装的函数 takeEvery、takeLatest、throttle、watcher 。</p>

<p>当使用 put 发送一条 action 的时候，与之对于的 reducers 就会接收到这个消息，然后在里面返回 state 等数据。</p>

<h4 id="subscriptions">Subscriptions</h4>

<p>同样是以 Key/Value 定义，用来订阅一个数据源，然后根据需要 dispatch 相应的 action，在 <code>app.start()</code> 时被执行，数据源可以是当前的时间、服务器的 WebSocket 链接、KeyBoard 的输入、GeoLocation 变化、History 变化等。</p>

<p>格式为 <code>({ dispatch, history ), done) =&gt; unlistenFucntion</code> 。</p>

<h2 id="开发">开发</h2>

<p>在 Ant Design Pro 中，前端路由是通过 <code>react-router</code> 进行路由管理，接下来将会添加一个新的路由，并在前端页面中增加一个菜单来对应该路由。</p>

<h3 id="1-添加导航">1. 添加导航</h3>

<p>首先在侧边栏中，也就是对应 <code>src/common/menu.js</code> 文件，添加对应的导航页。</p>

<figure class="highlight"><pre><code class="language-text" data-lang="text">const menuData = [
  {
    name: &#39;TEST&#39;,
    icon: &#39;gift&#39;,
    path: &#39;test&#39;,
    children: [
      {
        name: &#39;测试页&#39;,
        path: &#39;test-page&#39;,
      },
    ],
  },
]</code></pre></figure>

<p>这里的图标可以从 <a href="https://ant.design/components/icon-cn/">icon</a> 中获取，此时添加完后，如果直接访问会显示 404 。</p>

<h3 id="2-新增路由">2. 新增路由</h3>

<p>路由的配置文件统一由 <code>src/common/router.js</code> 文件进行管理，示例内容如下：</p>

<figure class="highlight"><pre><code class="language-text" data-lang="text">const routerConfig = {
  &#39;/test/test-page&#39;: {
    component: dynamicWrapper(app, [&#39;chart&#39;], () =&gt; import(&#39;../routes/Test/Blank&#39;)),
  },
}</code></pre></figure>

<p>其中包含了三个路由及其对应的页面文件。</p>

<h3 id="3-创建一个页面">3. 创建一个页面</h3>

<p>继续创建一个页面，对应到我们添加的路由中，新增一个 <code>src/routes/Test/Blank.js</code> 文件。</p>

<figure class="highlight"><pre><code class="language-text" data-lang="text">import React, { PureComponent } from &#39;react&#39;;
export default class Workplace extends PureComponent {
  render() {
    return (
      &lt;h1&gt;Hello World!&lt;/h1&gt;
    );
  }
}</code></pre></figure>

<h3 id="4-新增一个组件">4. 新增一个组件</h3>

<p>一般这一步可以直接省略。</p>

<p>一些通用的组件可以添加到 components 文件夹下，新增 <code>components/ImageWrapper/index.js</code> ，同样是一个示例，并在 <code>Blank.js</code> 中引入使用。</p>

<figure class="highlight"><pre><code class="language-text" data-lang="text">// components/ImagesWrapper/index.less
.imageWrapper {
  img {
    width: 40%;
  }
}

// components/ImagesWrapper/index.js
import React from &#39;react&#39;;
import styles from &#39;./index.less&#39;;    // 按照 CSS Modules 的方式引入样式文件。

export default ({ src, desc, style }) =&gt; (
  &lt;div style={style} className={styles.imageWrapper}&gt;
    &lt;img className={styles.img} src={src} alt={desc} /&gt;
    {desc &amp;&amp; &lt;div classname={styles.desc}&gt;{desc}&lt;/div&gt;}
  &lt;/div&gt;
);</code></pre></figure>

<p>然后修改 <code>Blank.js</code> 。</p>

<figure class="highlight"><pre><code class="language-text" data-lang="text">import React from &#39;react&#39;;
import ImageWrapper from &#39;../../components/ImageWrapper&#39;;  // 注意保证引用路径的正确
export default () =&gt; (
  &lt;imagewrapper src=&quot;https://os.alipayobjects.com/rmsportal/mgesTPFxodmIwpi.png&quot; desc=&quot;示意图&quot;&gt;;
)</code></pre></figure>

<p>假设我们的 <code>Blank.js</code> 页面需要发送请求，接收数据并在页面渲染时使用接收到的数据。</p>

<p>例如，我们可以在组件加载时发送一个请求来获取数据。</p>

<figure class="highlight"><pre><code class="language-text" data-lang="text">componentDidMount() {
  const { dispatch } = this.props;
  dispatch({
    type: &#39;project/fetchNotice&#39;,
  });
  dispatch({
    type: &#39;activities/fetchList&#39;,
  });
  dispatch({
    type: &#39;chart/fetch&#39;,
  });
}</code></pre></figure>

<h3 id="5-增加-service-和-module">5. 增加 Service 和 Module</h3>

<p>接上所述，此时，它将会找到对应的models中的函数来发送请求：</p>

<figure class="highlight"><pre><code class="language-text" data-lang="text">export default {
  namespace: &#39;monitor&#39;,
  state: {
    currentServices: [],
    waitingServices: [],
  },
  effects: {
    *get_current_service_list(_, { call, put }) {
      const response = yield call(getCurrentServiceList);
      yield put({
        type: &#39;currentServiceList&#39;,
        currentServices: response.result,
      });
    },
    *get_waiting_service_list(_, { call, put }) {
      const response = yield call(getWaitingServiceList);
      yield put({
        type: &#39;waitingServiceList&#39;,
        waitingServices: response.result,
      });
    },
  },
  reducers: {
    currentServiceList(state, action) {
      return {
        ...state,
        currentServices: action.currentServices,
      };
    },
    waitingServiceList(state, action) {
      return {
        ...state,
        waitingServices: action.waitingServices,
      };
    },
  },
};</code></pre></figure>

<p>而真正发送请求的实际是service文件夹下的文件进行的。</p>

<figure class="highlight"><pre><code class="language-text" data-lang="text">export async function getWaitingServiceList() {
  return request(&#39;/api/get_service_list&#39;, {
    method: &#39;POST&#39;,
    body: {&quot;type&quot;: &quot;waiting&quot;},
  });
}
export async function getCurrentServiceList() {
  return request(&#39;/api/get_service_list&#39;, {
    method: &#39;POST&#39;,
    body: {&quot;type&quot;: &quot;current&quot;},
  });
}</code></pre></figure>

<!--
在routes文件夹中，我们可以直接在render部分使用应该得到的返回值进行渲染显示：

    const { monitor, loading } = this.props;
    // monitor指的是相当于数据流
    const { currentServices, waitingServices } = monitor;
    // 从数据流中取出了具体的变量

### Mock数据

在我们开发的过程中，通常不可避免的就是mock数据。
那具体应该如下进行mock数据呢？主要依赖的是.roadhogrc.mock.js文件。
打开指定文件，我们可以看到如下的类似内容：

    const proxy = {
      'GET /api/fake_list': [{
        key: '1',
        name: 'John Brown',
        age: 32,
        address: 'New York No. 1 Lake Park',
      }, {
        key: '2',
        name: 'Jim Green',
        age: 42,
        address: 'London No. 1 Lake Park',
      }, {
        key: '3',
        name: 'Joe Black',
        age: 32,
        address: 'Sidney No. 1 Lake Park',
      }],
      'POST /api/login/account': (req, res) => {
        const { password, userName, type } = req.body;
        if(password === '888888' &amp;&amp; userName === 'admin'){
          res.send({
            status: 'ok',
            type,
            currentAuthority: 'admin'
          });
          return ;
        }
        if(password === '123456' &amp;&amp; userName === 'user'){
          res.send({
            status: 'ok',
            type,
            currentAuthority: 'user'
          });
          return ;
        }
        res.send({
          status: 'error',
          type,
          currentAuthority: 'guest'
        });
      }
    }

在上面的例子中，我们分别描述了针对GET和POST请求应该如下进行数据Mock。
打包

当我们将完整的前端项目开发完成后，我们需要打包成为静态文件并准备上线。
此时，我们应该如何打包项目呢？
非常简单，只需要执行如下命令即可：

    npm run build

此外，有时我们希望分析依赖模块的文件大小来优化我们的项目：

    npm run analyze

title

运行完成后，我们可以打开dist/stats.html文件来查询具体内容：
-->

<h2 id="其它">其它</h2>

<p><img src="/images/javascripts/react/dva-connect.png" alt="dva connect" title="dva connect" class="pull-center" width="80%" /></p>

<h3 id="菜单-路由-组件">菜单 路由 组件</h3>

<h4 id="菜单">菜单</h4>

<p>在左侧的导航栏点击 <code>列表页 &gt; 标准列表</code> 后，可以进入到所对应的页面，其中导航栏的内容在 <code>src/common/menu.js</code> 中。</p>

<figure class="highlight"><pre><code class="language-text" data-lang="text">{
  name: &#39;列表页&#39;,
  icon: &#39;table&#39;,
  path: &#39;list&#39;,
  children: [
    {
      name: &#39;查询表格&#39;,
      path: &#39;table-list&#39;,
    },
    {
      name: &#39;标准列表&#39;,
      path: &#39;basic-list&#39;,
    },
   //……
  ],
},</code></pre></figure>

<h4 id="路由">路由</h4>

<p>全局的路由关系是在 <code>src/index.js</code> 中通过 <code>app.router(require('./router').default);</code>，将 <code>src/router.js</code> 绑定到 dva 实例的 router 方法上。</p>

<p>而在 <code>src/router.js</code> 中又引入了 <code>src/common/router.js</code> 中的 <code>getRouterData</code> 作为数据源；也就相当于 <code>src/common/menu.js</code> 中 path 所指向的路径对应于 <code>src/common/router.js</code> 中的路由记录。</p>

<figure class="highlight"><pre><code class="language-text" data-lang="text">export const getRouterData = (app) =&gt; {
  const routerConfig = {
    ...,
    &#39;/list/basic-list&#39;: {
      component: dynamicWrapper(app, [&#39;list&#39;], () =&gt; import(&#39;../routes/List/BasicList&#39;)),
    },
    ...,
  };
  ...
}</code></pre></figure>

<p>这里调用了 lazy-loading 的动态加载函数 <code>dynamicWrapper()</code>，有 3 个参数，app 为全局 dva 实例，models 为一个带有相关 dva Model 的 Array，component 即为该路由记录对应的实际组件。</p>

<figure class="highlight"><pre><code class="language-text" data-lang="text">const dynamicWrapper = (app, models, component) =&gt; {...};</code></pre></figure>

<p>可以看到，加载路由的时候会动态加载当前文件下的 model 文件，也就是对应文件下的 <code>src/models/list.js</code> 。</p>

<h4 id="组件">组件</h4>

<p>在 UI 的实现 <code>src/routes/List/BasicList.js</code> 可以看到如下的省略后的代码：</p>

<figure class="highlight"><pre><code class="language-text" data-lang="text">import React, { PureComponent } from &#39;react&#39;;
import { connect } from &#39;dva&#39;;
import PageHeaderLayout from &#39;../../layouts/PageHeaderLayout&#39;;

@connect(({ list, loading }) =&gt; ({
  list,
  loading: loading.models.list,
}))
export default class BasicList extends PureComponent {
  componentDidMount() {
    this.props.dispatch({
      type: &#39;list/fetch&#39;,
      payload: {
        count: 5,
      },
    });
  }

  render() {
    return (
      &lt;PageHeaderLayout&gt;{/* ...  */}&lt;/PageHeaderLayout&gt;
    );
  }
}</code></pre></figure>

<h3 id="connect-装饰器">@connect 装饰器</h3>

<p>在组件中，使用了 dva 所封装的 react-redux 的 <code>@connect</code> 装饰器，用来接收绑定的 list 这个 model 对应的 redux store。</p>

<p>这里的装饰器实际除了 <code>app.state.list</code> 以外还实际接收 <code>app.state.loading</code> 作为参数，这个 loading 的来源是 <code>src/index.js</code> 中调用的 dva-loading 这个插件。</p>

<figure class="highlight"><pre><code class="language-text" data-lang="text">/*
* src/index.js
*/
import createLoading from &#39;dva-loading&#39;;
app.use(createLoading());</code></pre></figure>

<p>它返回的信息包含了 global、model 和 effect 的异步加载完成情况。</p>

<!--
数据map一
{
  "global": true,
  "models": {
    "list": false,
    "user": true,
    "rule": false
  },
  "effects": {
    "list/fetch": false,
    "user/fetchCurrent": true,
    "rule/fetch": false
  }
}
-->

<p>在 UI 页面的请求 <code>{count: 5}</code> 这个 payload 向 store 进行了一个类型为 <code>list/fetch</code> 的 dispatch，在 <code>src/models/list.js</code> 中就可以找到具体的对应操作。</p>

<figure class="highlight"><pre><code class="language-text" data-lang="text">import { queryFakeList } from &#39;../services/api&#39;;

export default {
  namespace: &#39;list&#39;,

  state: {
    list: [],
  },

  effects: {
    *fetch({ payload }, { call, put }) {
      const response = yield call(queryFakeList, payload);
      yield put({
        type: &#39;queryList&#39;,
        payload: Array.isArray(response) ? response : [],
      });
    },
    /* ... */
  },

  reducers: {
    queryList(state, action) {
      return {
        ...state,
        list: action.payload,
      };
    },
    /* ... */
  },
};</code></pre></figure>

<p>在使用 connect 时，有两个参数 <code>mapStateToProps</code> 以及 <code>mapDispatchToProps</code>，分别将状态绑定到组件的 props 以及将方法绑定到组件的 props 。</p>

<figure class="highlight"><pre><code class="language-text" data-lang="text">@connect(({ list, loading }) =&gt; ({
  list,                           // 1
  loading: loading.models.list,   // 2
}))</code></pre></figure>

<ol>
  <li>将实体 list 中的 state 数据绑定到 props； <!-- 注意绑定的是实体list整体，使用时需要list.[state中的具体变量] --></li>
  <li>通过 loading 将上文 <!-- “数据map一”中的models的list的key对应的value读取出来。赋值给loading，以方便使用，如表格是否有加载图标 --></li>
</ol>

<!--
当然代码②也可以通过key value编写：loading.effects["list/fetch"]
-->

<h4 id="变量获取">变量获取</h4>

<p>因为，在 <code>src/models/list.js</code> 中，有如下定义。</p>

<figure class="highlight"><pre><code class="language-text" data-lang="text">export default {
  namespace: &#39;list&#39;,

  state: {
    list: [],
  },</code></pre></figure>

<p>故在 view 中使用</p>

<figure class="highlight"><pre><code class="language-text" data-lang="text">  render() {
    const { list: { list }, loading } = this.props;</code></pre></figure>

<!--
定义使用时：list: { list }  ，含义实体list下的state类型的list变量

https://www.cnblogs.com/bjlhx/p/9009056.html
https://segmentfault.com/q/1010000012254134/a-1020000012258002
-->

<h2 id="参考">参考</h2>

<p>关于 dva 文档详细可以查看 <a href="https://github.com/dvajs/dva-docs">github dva-docs</a> 以及示例中的代码 <a href="https://github.com/dvajs/dva/tree/master/examples/user-dashboard">User Dashboard</a> 。</p>

<p>官方网站可以参考 <a href="https://ant.design/index-cn">Ant Desgin</a> 。</p>

<!--
另外可以参考如下的示例
https://github.com/zuiidea/antd-admin

https://github.com/egliu/Flask-React-antd

dva示例
https://github.com/sorrycc/blog/issues/18

12 步 30 分钟，完成用户管理的 CURD 应用 (react+dva+antd)
https://github.com/dvajs/dva-example-user-dashboard

https://www.missshi.cn/api/view/blog/5ab755dd22890966e2000003
-->


  <hr>
  <nav>
    <ul class="pager">
         <li class="previous"><a href="/post/linux-capabilities-introduce.html" title="Linux 系统用户">&larr; Older</a></li> 
         <li class="next"><a href="/post/linux-bash-basic-syntax.html" title="Bash 基本语法">Newer &rarr;</a></li> 
    </ul>
  </nav><br>
<!--
  <hr><div id="section-donate"><span>赏</span></div><br>
  <p style="text-indent:0px;text-align:center;">如果喜欢这里的文章，而且又不差钱的话，欢迎打赏个早餐 ^_^</p><br>
  <div class="row" style="text-align:center;" >
    <div class="col-md-6"><img src="/images/system/barcode-pay-alipay.jpg" style="width:150px;height:150px;" title="支付宝捐赠" /><br>支付宝打赏</div>
    <div class="col-md-6"><img src="/images/system/barcode-pay-wechat.jpg" style="width:150px;height:150px;" title="微信捐赠" /><br>微信打赏</div>
  </div><br><hr>
-->
  <p style="text-indent:0px;text-align:center;">如果喜欢这里的文章，而且又不差钱的话，欢迎打赏个早餐 ^_^</p>
  <div id="donate_module">
    <style type="text/css">
      .donate_bar a.btn_donate{
        display: inline-block;
        position:      relative;
        text-align:    center;
        width: 82px;
        height: 82px;
        background: url("/images/misc/btn_reward.gif") no-repeat;
        _background: url("/images/misc/btn_reward.gif") no-repeat;
        -webkit-transition: background 0s;
        -moz-transition: background 0s;
        -o-transition: background 0s;
        -ms-transition: background 0s;
        transition: background 0s;
      }
      .donate_bar a.btn_donate:hover{ background-position: 0px -82px;}
      .donate_bar .donate_txt {
        display: block;
        color: #9d9d9d;
        font: 14px/2 "Microsoft Yahei";
      }
    </style>
    <div id="donate_board" class="donate_bar row" style="text-align:center;" >
      <a id="btn_donate" class="btn_donate" target="_self" href="javascript:;" title="Donate 打赏"></a>
    </div>
    <div id="donate_guide" class="donate_bar center hidden">
      <div class="row" style="text-align:center;" >
        <div class="col-md-6"><img src="/images/system/barcode-pay-alipay.jpg" style="width:150px;height:150px;" title="支付宝捐赠" /><br>支付宝打赏</div>
        <div class="col-md-6"><img src="/images/system/barcode-pay-wechat.jpg" style="width:150px;height:150px;" title="微信捐赠" /><br>微信打赏</div>
      </div>
    </div>
    <script type="text/javascript">
      document.getElementById('btn_donate').onclick = function(){
        $('#donate_board').addClass('hidden');
        $('#donate_guide').removeClass('hidden');
      }
      function donate_on_web(){
        $('#donate').submit();
      }
    </script>
  </div>

  <hr>

  <div id="gitmentContainer"></div>
  <link rel="stylesheet" href="https://imsun.github.io/gitment/style/default.css">
  <script src="https://imsun.github.io/gitment/dist/gitment.browser.js"></script>
  <script>
  var gitment = new Gitment({
      id: '1519488000',
      owner: 'Jin-Yang',
      repo: 'jin-yang.github.com',
      oauth: {
          client_id: '6d89d48ce689192bf95d',
          client_secret: 'c9a720aafb8e3084e3feb46cadee80b03cdc792f',
      },
  });
  gitment.render('gitmentContainer');
  </script>

  <!-- 多说评论框 start -->
  <!--<div class="ds-thread" data-thread-key="请将此处替换成文章在你的站点中的ID" data-title="请替换成文章的标题" data-url="请替换成文章的网址"></div>-->
  <!--
  <div class="ds-thread" data-thread-key="/post/react-antd-design-introduce.html" data-title="Ant Design Pro 使用" data-url="/post/react-antd-design-introduce.html"></div>
  -->
  <!-- 多说评论框 end -->
  <!-- 多说公共JS代码 start (一个网页只需插入一次) -->
  <!--
  <script type="text/javascript">
      var duoshuoQuery = {short_name:"jinyangposts"};
      (function() {
          var ds = document.createElement('script');
          ds.type = 'text/javascript';ds.async = true;
          ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
          ds.charset = 'UTF-8';
          (document.getElementsByTagName('head')[0]
           || document.getElementsByTagName('body')[0]).appendChild(ds);
      })();
  </script>
  -->
  <!-- 多说公共JS代码 end -->
</div>

    </div>
    <div class="col-lg-3 visible-lg blog-sidebar">
    <center><a href="/"><img src="/images/system/linux-liberty.png" width="200" /></a></center>
<h2>About This Blog</h2>
<div class="sidebar-module">
<p style="text-indent:0em;margin:0px;padding:0px;">This is a personal weblog ^_^ generated with Jekyll, if you like it or have some questions,
just feel free to contact me :)</p>
</div><!-- end of "node" "about" -->



<h2>Recent Posts</h2>
<div class="list-group">
  
    <a class="list-group-item" href="/post/linux-program-cpu-cache-introduce_init.html">CPU Cache</a>
  
    <a class="list-group-item" href="/post/artificial-intelligence-decision-tree-introduce.html">决策树</a>
  
    <a class="list-group-item" href="/post/linux-ebpf-bcc-tools-introduce.html">BCC 工具使用</a>
  
    <a class="list-group-item" href="/post/linux-ebpf-basic-usage-introduce.html">eBPF 简介</a>
  
    <a class="list-group-item" href="/post/math-monte-carlo-sample-introduce.html">采样算法</a>
  
</div>

<h2>Categories</h2>
<ul class="list-group" style="margin:0px;">
  
  
    <li style="margin-left:0em" class="list-group-item"><a href="/categories.html#bash"> bash</a>
    <span class="badge">2</span>
  </li>
  
    <li style="margin-left:0em" class="list-group-item"><a href="/categories.html#database"> database</a>
    <span class="badge">86</span>
  </li>
  
    <li style="margin-left:0em" class="list-group-item"><a href="/categories.html#golang"> golang</a>
    <span class="badge">28</span>
  </li>
  
    <li style="margin-left:0em" class="list-group-item"><a href="/categories.html#linux"> linux</a>
    <span class="badge">301</span>
  </li>
  
    <li style="margin-left:0em" class="list-group-item"><a href="/categories.html#misc"> misc</a>
    <span class="badge">244</span>
  </li>
  
    <li style="margin-left:0em" class="list-group-item"><a href="/categories.html#mysql"> mysql</a>
    <span class="badge">79</span>
  </li>
  
    <li style="margin-left:0em" class="list-group-item"><a href="/categories.html#network"> network</a>
    <span class="badge">49</span>
  </li>
  
    <li style="margin-left:0em" class="list-group-item"><a href="/categories.html#postgresql"> postgresql</a>
    <span class="badge">4</span>
  </li>
  
    <li style="margin-left:0em" class="list-group-item"><a href="/categories.html#program"> program</a>
    <span class="badge">138</span>
  </li>
  
    <li style="margin-left:0em" class="list-group-item"><a href="/categories.html#python"> python</a>
    <span class="badge">25</span>
  </li>
  
    <li style="margin-left:0em" class="list-group-item"><a href="/categories.html#react"> react</a>
    <span class="badge">1</span>
  </li>
  
    <li style="margin-left:0em" class="list-group-item"><a href="/categories.html#rtems"> rtems</a>
    <span class="badge">1</span>
  </li>
  
    <li style="margin-left:0em" class="list-group-item"><a href="/categories.html#sql"> sql</a>
    <span class="badge">10</span>
  </li>
  
    <li style="margin-left:0em" class="list-group-item"><a href="/categories.html#tools"> tools</a>
    <span class="badge">1</span>
  </li>
  
    <li style="margin-left:0em" class="list-group-item"><a href="/categories.html#webserver"> webserver</a>
    <span class="badge">25</span>
  </li>
  
</ul><!-- end of "node" "categories" -->

<h2>Related Links</h2>
<ul class="list-group" style="margin:0px">
  <li style="margin-left:0em" class="list-group-item">
    <div class="row">
      <div class="col-xs-4">
       <a href="http://www.rtems.org" title="To RTEMS"><img class="img-thumbnail img-responsive" src="/images/system/rtems.png"  alt="RTEMS"/></a>
      </div>
      <div class="col-xs-8 center-block" style="padding:0px;">
        <strong>RTEMS</strong><br>
        <div class="sidebar-description">Real-Time Executive for Multiprocessor System</div>
      </div>
    </div>
  </li>
  <li style="margin-left:0em" class="list-group-item">
    <div class="row">
      <div class="col-xs-4">
       <a href="http://www.gnu.org" title="To GNU">
       <img class="img-thumbnail img-responsive" src="/images/system/gnu.jpg" alt="GNU" /></a>
      </div>
      <div class="col-xs-8 center-block" style="padding:0px;">
        <strong>GNU</strong><br>
        <div class="sidebar-description">A Unix-linux Operating System</div>
      </div>
    </div>
  </li>
  <li style="margin-left:0em" class="list-group-item">
    <div class="row">
      <div class="col-xs-4">
    <a href="http://www.kernel.org" title="To Linux Kernel">
    <img class="img-thumbnail img-responsive" src="/images/system/linux.png"  alt="LINUX" /></a>
      </div>
      <div class="col-xs-8 center-block" style="padding:0px;">
        <strong>Linux Kernel</strong><br>
        <div class="sidebar-description">Maintained by Linux Kernel Organization</div>
      </div>
    </div>
  </li>
  <li style="margin-left:0em" class="list-group-item">
    <div class="row">
      <div class="col-xs-4">
    <a href="http://arduino.cc" title="To Arduino">
    <img class="img-thumbnail img-responsive" src="/images/system/arduino.png"  alt="ARDUINO" /></a>
      </div>
      <div class="col-xs-8 center-block" style="padding:0px;">
        <strong>Arduino</strong><br>
        <div class="sidebar-description">Open-source Electronic Prototyping Platform</div>
      </div>
    </div>
  </li>
</ul>

<h2>Search</h2>
<div class="sidebar-module">
  <form class="search" method="GET" action="https://www.google.com.hk/search">
    <input type="text" name="q" class="search-query" placeholder=" Search on Google">
    <input type="hidden" name="ie" value="utf-8">
    <input type="submit" name="sa" value="Search" />
  </form><br>
  <input type="text" class="search-field" placeholder=" Search This Site">
  <div class="search-results"></div>
</div>



    </div>
  </div>
<hr><p class="text-center">This Site was built by Jin Yang, generated with Jekyll, and hosted on GitHub Pages<br/> &copy;2013-2019 &ndash; Jin Yang</p><div class="footer-logo"></div>

</div>
</body>
</html>
